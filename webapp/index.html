<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="FinAdvisor - –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫">
    <title>FinAdvisor - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- CSS Modules -->
    <link rel="stylesheet" href="/static/css/style.css?v=8.0">
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
</head>
<body>
    <div id="app">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="main-menu" class="screen active">
            <div class="header">
                <h1>FinAdvisor</h1>
                <p class="subtitle">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</p>
            </div>
            
            <!-- –ë–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç–æ—á–∫–∞ -->
            <div id="stats-card">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
                </div>
            </div>
            
            <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
            <div class="main-menu-grid">
                <button class="menu-btn" onclick="showScreen('transactions')">
                    <span class="menu-btn-icon">üí∞</span>
                    <span class="menu-btn-text">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</span>
                </button>
                <button class="menu-btn" onclick="showScreen('goals')">
                    <span class="menu-btn-icon">üéØ</span>
                    <span class="menu-btn-text">–ú–æ–∏ —Ü–µ–ª–∏</span>
                </button>
                <button class="menu-btn" onclick="showScreen('capital')">
                    <span class="menu-btn-icon">üíº</span>
                    <span class="menu-btn-text">–ö–∞–ø–∏—Ç–∞–ª</span>
                </button>
                <button class="menu-btn" onclick="showScreen('reports')">
                    <span class="menu-btn-icon">üìä</span>
                    <span class="menu-btn-text">–û—Ç—á–µ—Ç—ã</span>
                </button>
                <button class="menu-btn" onclick="showScreen('consultation')">
                    <span class="menu-btn-icon">ü§ñ</span>
                    <span class="menu-btn-text">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</span>
                </button>
            </div>
        </div>

        <!-- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
        <div id="transactions" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h2>
            </div>
            
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" data-tab="income" onclick="switchTab('income')">–î–æ—Ö–æ–¥—ã</button>
                <button class="tab" data-tab="expense" onclick="switchTab('expense')">–†–∞—Å—Ö–æ–¥—ã</button>
            </div>
            
            <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
            <div id="transaction-form" class="form">
                <div class="form-group">
                    <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="category-select" class="input"></select>
                </div>
                <div class="form-group">
                    <label class="form-label">–°—É–º–º–∞</label>
                    <input type="number" id="amount-input" class="input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1500)" step="0.01" min="0" onkeypress="if(event.key==='Enter') addTransaction()">
                </div>
                <div class="form-group">
                    <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="text" id="description-input" class="input" placeholder="–î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ" onkeypress="if(event.key==='Enter') addTransaction()">
                </div>
                <button class="btn btn-primary" onclick="addTransaction()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
            <div id="transactions-list" class="list"></div>
        </div>

        <!-- –¶–µ–ª–∏ -->
        <div id="goals" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–ú–æ–∏ —Ü–µ–ª–∏</h2>
            </div>
            
            <button class="btn btn-primary" onclick="showAddGoalForm()" style="margin-bottom: 24px;">‚ûï –ù–æ–≤–∞—è —Ü–µ–ª—å</button>
            
            <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª–∏ -->
            <div id="add-goal-form" class="form" style="display: none;">
                <div class="form-group">
                    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏</label>
                    <input type="text" id="goal-title" class="input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤–∞—è –º–∞—à–∏–Ω–∞">
                </div>
                <div class="form-group">
                    <label class="form-label">–¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞</label>
                    <input type="number" id="goal-target" class="input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1000000)" step="0.01" min="0" onkeypress="if(event.key==='Enter') addGoal()">
                </div>
                <div class="form-group">
                    <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="text" id="goal-description" class="input" placeholder="–î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ" onkeypress="if(event.key==='Enter') addGoal()">
                </div>
                <button class="btn btn-primary" onclick="addGoal()">–°–æ–∑–¥–∞—Ç—å</button>
                <button class="btn btn-secondary" onclick="hideAddGoalForm()">–û—Ç–º–µ–Ω–∞</button>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π -->
            <div id="goals-list" class="list"></div>
        </div>

        <!-- –ö–∞–ø–∏—Ç–∞–ª -->
        <div id="capital" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–ö–∞–ø–∏—Ç–∞–ª</h2>
            </div>
            
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" data-tab="assets" onclick="switchCapitalTab('assets')">–ê–∫—Ç–∏–≤—ã</button>
                <button class="tab" data-tab="liabilities" onclick="switchCapitalTab('liabilities')">–î–æ–ª–≥–∏</button>
            </div>
            
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∫–∞–ø–∏—Ç–∞–ª–∞ -->
            <div id="capital-content"></div>
        </div>

        <!-- –û—Ç—á–µ—Ç—ã -->
        <div id="reports" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–û—Ç—á–µ—Ç—ã</h2>
            </div>
            
            <div id="reports-content" class="content"></div>
        </div>

        <!-- –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è -->
        <div id="consultation" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–õ–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</h2>
            </div>
            
            <div id="consultation-content" class="content"></div>
        </div>
    </div>

    <!-- Floating Action Button –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
    <button class="fab" onclick="showAddTransactionForm('expense')" title="–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é" id="fab-add-transaction" style="display: none;">
        ‚ûï
    </button>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-screen="main-menu" onclick="showScreen('main-menu')">
            <span class="nav-item-icon">üè†</span>
            <span class="nav-item-label">–ì–ª–∞–≤–Ω–∞—è</span>
        </button>
        <button class="nav-item" data-screen="transactions" onclick="showScreen('transactions')">
            <span class="nav-item-icon">üí∞</span>
            <span class="nav-item-label">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</span>
        </button>
        <button class="nav-item" data-screen="goals" onclick="showScreen('goals')">
            <span class="nav-item-icon">üéØ</span>
            <span class="nav-item-label">–¶–µ–ª–∏</span>
        </button>
        <button class="nav-item" data-screen="capital" onclick="showScreen('capital')">
            <span class="nav-item-icon">üíº</span>
            <span class="nav-item-label">–ö–∞–ø–∏—Ç–∞–ª</span>
        </button>
        <button class="nav-item" data-screen="consultation" onclick="showScreen('consultation')">
            <span class="nav-item-icon">ü§ñ</span>
            <span class="nav-item-label">–ò–ò</span>
        </button>
    </nav>

    <!-- JavaScript Modules (load in order) -->
    <script src="/static/js/state.js?v=8.0"></script>
    <script src="/static/js/api.js?v=8.0"></script>
    <script src="/static/js/ui.js?v=8.0"></script>
    <script src="/static/js/app.js?v=8.0"></script>
</body>
</html>
